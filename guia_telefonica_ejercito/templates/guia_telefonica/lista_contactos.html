{% extends 'base.html' %} {% load static %} {% block 'contenido' %}
{% csrf_token %}
<!-- DataTables -->
<link
  rel="stylesheet"
  href="../../static/lib/adminlte/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css"
/>
<link
  rel="stylesheet"
  href="../../static/lib/adminlte/plugins/datatables-responsive/css/responsive.bootstrap4.min.css"
/>
<link
  rel="stylesheet"
  href="../../static/lib/adminlte/plugins/datatables-buttons/css/buttons.bootstrap4.min.css"
/>
<style>
  /* Style the container to limit its size */
  .dataTables_filter {
    display: none;
  }
  .dt-buttons {
    float: left;
  }

  .btn_add_req {
    float: right;
  }

  .small-table {
    font-size: 0.875em; /* Reducir el tamaño de la fuente */
  }

  .compact-table td,
  .compact-table th {
    padding: 0.3rem; /* Reducir el padding */
  }
  .container-fluid {
    width: 95%;
    background-color: #fff;
    padding: 5px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
  }
  
</style>
<section class="content-header"></section>
<section class="content"style="background-color:">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <div class="row mb-4">
              <div class="col text-center">
                <img
                  src="{% static '../static/recursos/logo_institucion.png' %}"
                  alt="Logo de la Institución"
                  class="img-fluid"
                  style="max-width: 80px"
                />
              </div>
            </div>
            <div class="row mb-4">
              <div class="col text-center">
                <h4 class="display-4">Guía Telefónica del Ejército</h4>
              </div>
            </div>
            <div class="row mb-12">
              <div class="col-md-8 offset-md-2">
                <input
                  type="text"
                  id="search-input"
                  class="form-control"
                  placeholder="Buscar en la tabla..."
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Resultados de la búsqueda</h3>
          </div>
          <div class="card-body">
            <table
              id="example1"
              class="table table-bordered table-striped table-sm compact-table small"
            >
              <thead>
                <tr>
                  <th>No</th>
                  <th>Grado</th>
                  <th>Nombre</th>
                  <th>Unidad</th>
                  <th>Cargo Actual</th>
                  <th>Tel. Celular</th>
                </tr>
              </thead>
              <tbody id="contactosBody">
                {% for contacto in contactos %}
                <tr>
                  <td>{{ forloop.counter }}</td>
                  <td>{{ contacto.grado }}</td>
                  <td>{{ contacto.nom_ape }}</td>
                  <td>{{ contacto.unidad }}</td>
                  <td>{{ contacto.cargo_actual }}</td>
                  <td>{{ contacto.tel_celular }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            <br />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- jQuery -->
<script src="../../static/lib/adminlte/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="../../static/lib/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- DataTables  & Plugins -->
<script src="../../static/lib/adminlte/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="../../static/lib/adminlte/plugins/jszip/jszip.min.js"></script>
<script src="../../static/lib/adminlte/plugins/pdfmake/pdfmake.min.js"></script>
<script src="../../static/lib/adminlte/plugins/pdfmake/vfs_fonts.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="../../static/lib/adminlte/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
<script>
  jQuery(document).ready(function ($) {
    $("#example1").DataTable({
      // Habilita el desplazamiento horizontal si es necesario
      language: {
        decimal: "",
        emptyTable: "No hay datos disponibles en la tabla",
        info: "Mostrando _START_ a _END_ de _TOTAL_ entradas",
        infoEmpty: "Mostrando 0 a 0 de 0 entradas",
        infoFiltered: "(filtrado de _MAX_ entradas totales)",
        infoPostFix: "",
        thousands: ",",
        lengthMenu: "Mostrar _MENU_ entradas",
        loadingRecords: "Cargando...",
        processing: "Procesando...",
        search: "Buscar:",
        zeroRecords: "No se encontraron registros coincidentes",
        paginate: {
          first: "Primero",
          last: "Último",
          next: "Siguiente",
          previous: "Anterior",
        },
        aria: {
          sortAscending: ": activar para ordenar la columna ascendente",
          sortDescending: ": activar para ordenar la columna descendente",
        },
      },
    });
    var buttons = new $.fn.dataTable.Buttons($("#example1").DataTable(), {
      buttons: [
        {
          extend: "excel",
          className: "btn btn-primary",
          text: '<i class="fas fa-file-excel"></i> Excel',
        },
        /*{ extend: 'pdf', className: 'btn btn-primary', text: '<i class="fas fa-file-pdf"></i> PDF' },
         */ {
          extend: "print",
          className: "btn btn-primary",
          text: '<i class="fas fa-print"></i> Imprimir',
        },
      ],
    })
      .container()
      .appendTo($(".dt-buttons"));
    var table = $("#example1").DataTable();

    // Filtrado con input externo
    $("#search-input").on("keyup", function () {
      table.search(this.value).draw(); // Actualiza la tabla basada en el valor del input
    });
  });
</script>
{% endblock %}
